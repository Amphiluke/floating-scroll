/*!
floating-scroll v3.0.0
https://amphiluke.github.io/floating-scroll/
(c) 2018 Amphiluke
*/
(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(require('jquery')) :
    typeof define === 'function' && define.amd ? define(['jquery'], factory) :
    (factory(global.jQuery));
}(this, (function ($) { 'use strict';

    class FScroll{constructor(a){let b=this;b.cont=a[0];let c=a.closest(".fl-scrolls-body");c.length&&(b.scrollBody=c), b.sbar=b.initScroll(), b.visible=!0, b.updateAPI(), b.syncSbar(b.cont), b.addEventHandlers();}initScroll(){let a=$("<div class='fl-scrolls'></div>"),{cont:b}=this;return $("<div></div>").appendTo(a).css({width:`${b.scrollWidth}px`}), a.appendTo(b)}addEventHandlers(){let a=this,b=a.eventHandlers=[{$el:a.scrollBody||$(window),handlers:{scroll(){a.checkVisibility();},resize(){a.updateAPI();}}},{$el:a.sbar,handlers:{scroll({target:b}){a.visible&&a.syncCont(b,!0);}}},{$el:$(a.cont),handlers:{scroll({target:b}){a.syncSbar(b,!0);},focusin(){setTimeout(a.syncSbar.bind(a,a.cont),0);},"update.fscroll"({namespace:b}){"fscroll"===b&&a.updateAPI();},"destroy.fscroll"({namespace:b}){"fscroll"===b&&a.destroyAPI();}}}];b.forEach(({$el:a,handlers:b})=>a.bind(b));}checkVisibility(){let a=this,b=a.sbar[0].scrollWidth<=a.sbar[0].offsetWidth;if(!b){let c=a.cont.getBoundingClientRect(),d=a.scrollBody?a.scrollBody[0].getBoundingClientRect().bottom:window.innerHeight||document.documentElement.clientHeight;b=c.bottom<=d||c.top>d;}a.visible===b&&(a.visible=!b, a.sbar.toggleClass("fl-scrolls-hidden"));}syncCont(a,b){let c=this;return!0===c.preventSyncCont?void(c.preventSyncCont=!1):void(c.preventSyncSbar=!!b, c.cont.scrollLeft=a.scrollLeft)}syncSbar(a,b){let c=this;return!0===c.preventSyncSbar?void(c.preventSyncSbar=!1):void(c.preventSyncCont=!!b, c.sbar[0].scrollLeft=a.scrollLeft)}updateAPI(){let a=this,{cont:b}=a;a.sbar.width($(b).outerWidth()), a.scrollBody||a.sbar.css("left",`${b.getBoundingClientRect().left}px`), $("div",a.sbar).width(b.scrollWidth), a.checkVisibility();}destroyAPI(){this.eventHandlers.forEach(({$el:a,handlers:b})=>a.unbind(b)), this.eventHandlers=null, this.sbar.remove();}}$.fn.floatingScroll=function(a="init"){return"init"===a?this.each((a,b)=>new FScroll($(b))):FScroll.prototype.hasOwnProperty(`${a}API`)&&this.trigger(`${a}.fscroll`), this};

})));
