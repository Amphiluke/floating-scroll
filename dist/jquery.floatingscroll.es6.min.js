/*!
floating-scroll v3.0.4
https://amphiluke.github.io/floating-scroll/
(c) 2018 Amphiluke
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):t(e.jQuery)}(this,function(e){"use strict";let t={init(e){let t=this,i=e.closest(".fl-scrolls-body");i.length&&(t.scrollBody=i),t.container=e[0],t.visible=!0,t.initWidget(),t.updateAPI(),t.syncWidget(),t.addEventHandlers()},initWidget(){let t=this.widget=e("<div class='fl-scrolls'></div>");e("<div></div>").appendTo(t).css({width:`${this.container.scrollWidth}px`}),t.appendTo(this.container)},addEventHandlers(){let t=this;(t.eventHandlers=[{$el:t.scrollBody||e(window),handlers:{scroll(){t.checkVisibility()},resize(){t.updateAPI()}}},{$el:t.widget,handlers:{scroll(){t.visible&&t.syncContainer(!0)}}},{$el:e(t.container),handlers:{scroll(){t.syncWidget(!0)},focusin(){setTimeout(()=>t.syncWidget(),0)},"update.fscroll"({namespace:e}){"fscroll"===e&&t.updateAPI()},"destroy.fscroll"({namespace:e}){"fscroll"===e&&t.destroyAPI()}}}]).forEach(({$el:e,handlers:t})=>e.bind(t))},checkVisibility(){let e=this,{widget:t,container:i,scrollBody:n}=e,l=t[0].scrollWidth<=t[0].offsetWidth;if(!l){let e=i.getBoundingClientRect(),t=n?n[0].getBoundingClientRect().bottom:window.innerHeight||document.documentElement.clientHeight;l=e.bottom<=t||e.top>t}e.visible===l&&(e.visible=!l,t.toggleClass("fl-scrolls-hidden"))},syncContainer(e=!1){let t=this;!0!==t.skipSyncContainer?(t.skipSyncWidget=e,t.container.scrollLeft=t.widget[0].scrollLeft):t.skipSyncContainer=!1},syncWidget(e=!1){let t=this;!0!==t.skipSyncWidget?(t.skipSyncContainer=e,t.widget[0].scrollLeft=t.container.scrollLeft):t.skipSyncWidget=!1},updateAPI(){let{widget:t,container:i,scrollBody:n}=this;t.width(i.clientWidth),n||t.css("left",`${i.getBoundingClientRect().left}px`),e("div",t).width(i.scrollWidth),this.syncWidget(),this.checkVisibility()},destroyAPI(){this.eventHandlers.forEach(({$el:e,handlers:t})=>e.unbind(t)),this.widget.remove(),this.eventHandlers=this.widget=this.container=this.scrollBody=null}};e.fn.floatingScroll=function(i="init"){return"init"===i?this.each((i,n)=>Object.create(t).init(e(n))):t.hasOwnProperty(`${i}API`)&&this.trigger(`${i}.fscroll`),this},e(document).ready(()=>{e("body [data-fl-scrolls]").floatingScroll()})});
