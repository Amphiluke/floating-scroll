/*!
floating-scroll v3.0.2
https://amphiluke.github.io/floating-scroll/
(c) 2018 Amphiluke
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):t(e.jQuery)}(this,function(e){"use strict";class t{constructor(e){let t=this;t.cont=e[0];let l=e.closest(".fl-scrolls-body");l.length&&(t.scrollBody=l),t.sbar=t.initScroll(),t.visible=!0,t.updateAPI(),t.syncSbar(t.cont),t.addEventHandlers()}initScroll(){let t=e("<div class='fl-scrolls'></div>"),{cont:l}=this;return e("<div></div>").appendTo(t).css({width:`${l.scrollWidth}px`}),t.appendTo(l)}addEventHandlers(){let t=this;(t.eventHandlers=[{$el:t.scrollBody||e(window),handlers:{scroll(){t.checkVisibility()},resize(){t.updateAPI()}}},{$el:t.sbar,handlers:{scroll({target:e}){t.visible&&t.syncCont(e,!0)}}},{$el:e(t.cont),handlers:{scroll({target:e}){t.syncSbar(e,!0)},focusin(){setTimeout(t.syncSbar.bind(t,t.cont),0)},"update.fscroll"({namespace:e}){"fscroll"===e&&t.updateAPI()},"destroy.fscroll"({namespace:e}){"fscroll"===e&&t.destroyAPI()}}}]).forEach(({$el:e,handlers:t})=>e.bind(t))}checkVisibility(){let e=this,t=e.sbar[0].scrollWidth<=e.sbar[0].offsetWidth;if(!t){let l=e.cont.getBoundingClientRect(),n=e.scrollBody?e.scrollBody[0].getBoundingClientRect().bottom:window.innerHeight||document.documentElement.clientHeight;t=l.bottom<=n||l.top>n}e.visible===t&&(e.visible=!t,e.sbar.toggleClass("fl-scrolls-hidden"))}syncCont(e,t){let l=this;!0!==l.preventSyncCont?(l.preventSyncSbar=!!t,l.cont.scrollLeft=e.scrollLeft):l.preventSyncCont=!1}syncSbar(e,t){let l=this;!0!==l.preventSyncSbar?(l.preventSyncCont=!!t,l.sbar[0].scrollLeft=e.scrollLeft):l.preventSyncSbar=!1}updateAPI(){let t=this,{cont:l}=t;t.sbar.width(e(l).outerWidth()),t.scrollBody||t.sbar.css("left",`${l.getBoundingClientRect().left}px`),e("div",t.sbar).width(l.scrollWidth),t.checkVisibility()}destroyAPI(){this.eventHandlers.forEach(({$el:e,handlers:t})=>e.unbind(t)),this.eventHandlers=null,this.sbar.remove()}}e.fn.floatingScroll=function(l="init"){return"init"===l?this.each((l,n)=>new t(e(n))):t.prototype.hasOwnProperty(`${l}API`)&&this.trigger(`${l}.fscroll`),this},e(document).ready(()=>{e("body [data-fl-scrolls]").floatingScroll()})});
