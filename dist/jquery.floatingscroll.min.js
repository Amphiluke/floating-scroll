/*!
floating-scroll v3.0.0
https://amphiluke.github.io/floating-scroll/
(c) 2018 Amphiluke
*/
(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(require('jquery')) :
    typeof define === 'function' && define.amd ? define(['jquery'], factory) :
    (factory(global.jQuery));
}(this, (function ($) { 'use strict';

    function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var FScroll=function(){function a(b){_classCallCheck(this,a);var c=this;c.cont=b[0];var d=b.closest(".fl-scrolls-body");d.length&&(c.scrollBody=d), c.sbar=c.initScroll(), c.visible=!0, c.updateAPI(), c.syncSbar(c.cont), c.addEventHandlers();}return a.prototype.initScroll=function initScroll(){var a=$("<div class='fl-scrolls'></div>"),b=this.cont;return $("<div></div>").appendTo(a).css({width:b.scrollWidth+"px"}), a.appendTo(b)}, a.prototype.addEventHandlers=function addEventHandlers(){var a=this,b=a.eventHandlers=[{$el:a.scrollBody||$(window),handlers:{scroll:function scroll(){a.checkVisibility();},resize:function resize(){a.updateAPI();}}},{$el:a.sbar,handlers:{scroll:function scroll(b){var c=b.target;a.visible&&a.syncCont(c,!0);}}},{$el:$(a.cont),handlers:{scroll:function scroll(b){var c=b.target;a.syncSbar(c,!0);},focusin:function focusin(){setTimeout(a.syncSbar.bind(a,a.cont),0);},"update.fscroll":function updateFscroll(b){var c=b.namespace;"fscroll"===c&&a.updateAPI();},"destroy.fscroll":function destroyFscroll(b){var c=b.namespace;"fscroll"===c&&a.destroyAPI();}}}];b.forEach(function(a){var b=a.$el,c=a.handlers;return b.bind(c)});}, a.prototype.checkVisibility=function checkVisibility(){var a=this,b=a.sbar[0].scrollWidth<=a.sbar[0].offsetWidth;if(!b){var c=a.cont.getBoundingClientRect(),d=a.scrollBody?a.scrollBody[0].getBoundingClientRect().bottom:window.innerHeight||document.documentElement.clientHeight;b=c.bottom<=d||c.top>d;}a.visible===b&&(a.visible=!b, a.sbar.toggleClass("fl-scrolls-hidden"));}, a.prototype.syncCont=function syncCont(a,b){var c=this;return!0===c.preventSyncCont?void(c.preventSyncCont=!1):void(c.preventSyncSbar=!!b, c.cont.scrollLeft=a.scrollLeft)}, a.prototype.syncSbar=function syncSbar(a,b){var c=this;return!0===c.preventSyncSbar?void(c.preventSyncSbar=!1):void(c.preventSyncCont=!!b, c.sbar[0].scrollLeft=a.scrollLeft)}, a.prototype.updateAPI=function updateAPI(){var a=this,b=a.cont;a.sbar.width($(b).outerWidth()), a.scrollBody||a.sbar.css("left",b.getBoundingClientRect().left+"px"), $("div",a.sbar).width(b.scrollWidth), a.checkVisibility();}, a.prototype.destroyAPI=function destroyAPI(){this.eventHandlers.forEach(function(a){var b=a.$el,c=a.handlers;return b.unbind(c)}), this.eventHandlers=null, this.sbar.remove();}, a}();$.fn.floatingScroll=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"init";return"init"===a?this.each(function(a,b){return new FScroll($(b))}):FScroll.prototype.hasOwnProperty(a+"API")&&this.trigger(a+".fscroll"), this}, $(document).ready(function(){$("body [data-fl-scrolls]").floatingScroll();});

})));
