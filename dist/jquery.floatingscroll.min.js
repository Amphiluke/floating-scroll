/*!
floating-scroll v3.1.1
https://amphiluke.github.io/floating-scroll/
(c) 2021 Amphiluke
*/
!function(i,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):t((i="undefined"!=typeof globalThis?globalThis:i||self).jQuery)}(this,(function(i){"use strict";var t="horizontal",n="vertical",e={init:function(i,n){var e=this;e.orientationProps=function(i){var n=i===t;return{ORIENTATION:i,SIZE:n?"width":"height",X_SIZE:n?"height":"width",OFFSET_SIZE:n?"offsetWidth":"offsetHeight",OFFSET_X_SIZE:n?"offsetHeight":"offsetWidth",CLIENT_SIZE:n?"clientWidth":"clientHeight",CLIENT_X_SIZE:n?"clientHeight":"clientWidth",INNER_X_SIZE:n?"innerHeight":"innerWidth",SCROLL_SIZE:n?"scrollWidth":"scrollHeight",SCROLL_POS:n?"scrollLeft":"scrollTop",START:n?"left":"top",X_START:n?"top":"left",X_END:n?"bottom":"right"}}(n);var o=i.closest(".fl-scrolls-body");o.length&&(e.scrollBody=o),e.container=i[0],e.visible=!0,e.initWidget(),e.updateAPI(),e.addEventHandlers(),e.skipSyncContainer=e.skipSyncWidget=!1},initWidget:function(){var t=this,n=t.orientationProps,e=n.ORIENTATION,o=n.SIZE,r=n.SCROLL_SIZE,l=t.widget=i('<div class="fl-scrolls" data-orientation="'+e+'"></div>');i("<div></div>").appendTo(l)[o](t.container[r]),l.appendTo(t.container)},addEventHandlers:function(){var t=this;(t.eventHandlers=[{$el:t.scrollBody||i(window),handlers:{scroll:function(){t.updateAPI()},resize:function(){t.updateAPI()}}},{$el:t.widget,handlers:{scroll:function(){t.visible&&!t.skipSyncContainer&&t.syncContainer(),t.skipSyncContainer=!1}}},{$el:i(t.container),handlers:{scroll:function(){t.skipSyncWidget||t.syncWidget(),t.skipSyncWidget=!1},focusin:function(){setTimeout((function(){t.widget&&t.syncWidget()}),0)},"update.fscroll":function(i){"fscroll"===i.namespace&&t.updateAPI()},"destroy.fscroll":function(i){"fscroll"===i.namespace&&t.destroyAPI()}}}]).forEach((function(i){var t=i.$el,n=i.handlers;return t.bind(n)}))},checkVisibility:function(){var i=this,t=i.widget,n=i.container,e=i.scrollBody,o=i.orientationProps,r=o.SCROLL_SIZE,l=o.OFFSET_SIZE,c=o.X_START,s=o.X_END,d=o.INNER_X_SIZE,a=o.CLIENT_X_SIZE,f=t[0][r]<=t[0][l];if(!f){var u=n.getBoundingClientRect(),h=e?e[0].getBoundingClientRect()[s]:window[d]||document.documentElement[a];f=u[s]<=h||u[c]>h}i.visible===f&&(i.visible=!f,t.toggleClass("fl-scrolls-hidden"))},syncContainer:function(){var i=this,t=i.orientationProps.SCROLL_POS,n=i.widget[0][t];i.container[t]!==n&&(i.skipSyncWidget=!0,i.container[t]=n)},syncWidget:function(){var i=this,t=i.orientationProps.SCROLL_POS,n=i.container[t];i.widget[0][t]!==n&&(i.skipSyncContainer=!0,i.widget[0][t]=n)},updateAPI:function(){var t=this,n=t.orientationProps,e=n.SIZE,o=n.X_SIZE,r=n.OFFSET_X_SIZE,l=n.CLIENT_SIZE,c=n.CLIENT_X_SIZE,s=n.SCROLL_SIZE,d=n.START,a=t.widget,f=t.container,u=t.scrollBody,h=f[l],S=f[s];a[e](h),u||a.css(d,f.getBoundingClientRect()[d]+"px"),i("div",a)[e](S),S>h&&a[o](a[0][r]-a[0][c]+1),t.syncWidget(),t.checkVisibility()},destroyAPI:function(){var i=this;i.eventHandlers.forEach((function(i){var t=i.$el,n=i.handlers;return t.unbind(n)})),i.widget.remove(),i.eventHandlers=i.widget=i.container=i.scrollBody=null}};i.fn.floatingScroll=function(o,r){if(void 0===o&&(o="init"),void 0===r&&(r={}),"init"===o){var l=r.orientation,c=void 0===l?t:l;if(c!==t&&c!==n)throw new Error("Scrollbar orientation should be either “horizontal” or “vertical”");this.each((function(t,n){return Object.create(e).init(i(n),c)}))}else Object.prototype.hasOwnProperty.call(e,o+"API")&&this.trigger(o+".fscroll");return this},i((function(){i("body [data-fl-scrolls]").each((function(t,n){var e=i(n);e.floatingScroll("init",e.data("flScrolls")||{})}))}))}));
