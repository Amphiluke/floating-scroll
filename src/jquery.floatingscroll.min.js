!function(t,o){"use strict";"function"==typeof define&&define.amd?define(["jquery"],o):o("object"==typeof module&&module.exports?require("jquery"):t.jQuery)}(this,function(t){"use strict";function o(t){var o=this,n=t.closest(".fl-scrolls-body");o.cont={block:t[0],left:0,top:0,bottom:0,height:0,width:0},n.length&&(o.scrollBody=n),o.sbar=o.initScroll(),o.visible=!0,o.updateAPI(),o.syncSbar(t[0]),o.addEventHandlers()}var n=window,e=/*@cc_on (@_jscript_version<9)?function(){var e=document.documentElement;return e.scrollTop+e.clientHeight;}:@*/function(){return n.pageYOffset+n.innerHeight},i=function(t){return t.offset().top+t.scrollTop()+t.height()};t.extend(o.prototype,{initScroll:function(){var o=t("<div class='fl-scrolls'></div>");return t("<div></div>").appendTo(o).css({width:this.cont.block.scrollWidth+"px"}),o.appendTo(this.cont.block)},addEventHandlers:function(){var o,e,i,s=this;for(o=s.eventHandlers=[{$el:s.scrollBody||t(n),handlers:{scroll:function(){s.checkVisibility()},resize:function(){s.updateAPI()}}},{$el:s.sbar,handlers:{scroll:function(){s.visible&&s.syncCont(this,!0)}}},{$el:t(s.cont.block),handlers:{scroll:function(){s.syncSbar(this,!0)},focusin:function(){setTimeout(function(){s.syncSbar(s.cont.block)},0)},"update.fscroll adjustScroll":function(t){"fscroll"!==t.namespace&&"adjustScroll"!==t.type||s.updateAPI()},"destroy.fscroll":function(t){"fscroll"===t.namespace&&s.destroyAPI()}}}],e=0,i=o.length;e<i;e++)o[e].$el.bind(o[e].handlers)},checkVisibility:function(){var t,o=this,n=o.cont,s=o.sbar[0].scrollWidth<=o.sbar[0].offsetWidth;s||(t=o.scrollBody?i(o.scrollBody):e(),s=n.bottom<=t||n.top>t),o.visible===s&&(o.visible=!s,o.sbar.toggleClass("fl-scrolls-hidden"))},syncCont:function(t,o){return this.preventSyncCont===!0?void(this.preventSyncCont=!1):(this.preventSyncSbar=!!o,void(this.cont.block.scrollLeft=t.scrollLeft))},syncSbar:function(t,o){return this.preventSyncSbar===!0?void(this.preventSyncSbar=!1):(this.preventSyncCont=!!o,void(this.sbar[0].scrollLeft=t.scrollLeft))},updateAPI:function(){var o=this,n=o.cont,e=t(n.block),i=e.offset();n.height=e.outerHeight(),n.width=e.outerWidth(),n.left=i.left,n.top=i.top,n.bottom=i.top+n.height,o.sbar.width(n.width),o.scrollBody||o.sbar.css("left",i.left+"px"),t("div",o.sbar).width(e[0].scrollWidth),o.checkVisibility()},destroyAPI:function(){var t,o,n=this.eventHandlers;for(t=0,o=n.length;t<o;t++)n[t].$el.unbind(n[t].handlers);this.sbar.remove()}}),t.fn.attachScroll=t.fn.floatingScroll=function(n){return arguments.length&&"init"!==n?o.prototype.hasOwnProperty(n+"API")&&this.trigger(n+".fscroll"):this.each(function(){new o(t(this))}),this}});