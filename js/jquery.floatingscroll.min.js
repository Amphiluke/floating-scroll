/*!
floating-scroll v3.0.1
https://amphiluke.github.io/floating-scroll/
(c) 2018 Amphiluke
*/
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],n):n(t.jQuery)}(this,function(t){"use strict";var n=function(){function n(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);this.cont=t[0];var i=t.closest(".fl-scrolls-body");i.length&&(this.scrollBody=i),this.sbar=this.initScroll(),this.visible=!0,this.updateAPI(),this.syncSbar(this.cont),this.addEventHandlers()}return n.prototype.initScroll=function(){var n=t("<div class='fl-scrolls'></div>"),i=this.cont;return t("<div></div>").appendTo(n).css({width:i.scrollWidth+"px"}),n.appendTo(i)},n.prototype.addEventHandlers=function(){var n=this;(n.eventHandlers=[{$el:n.scrollBody||t(window),handlers:{scroll:function(){n.checkVisibility()},resize:function(){n.updateAPI()}}},{$el:n.sbar,handlers:{scroll:function(t){var i=t.target;n.visible&&n.syncCont(i,!0)}}},{$el:t(n.cont),handlers:{scroll:function(t){var i=t.target;n.syncSbar(i,!0)},focusin:function(){setTimeout(n.syncSbar.bind(n,n.cont),0)},"update.fscroll":function(t){"fscroll"===t.namespace&&n.updateAPI()},"destroy.fscroll":function(t){"fscroll"===t.namespace&&n.destroyAPI()}}}]).forEach(function(t){var n=t.$el,i=t.handlers;return n.bind(i)})},n.prototype.checkVisibility=function(){var t=this.sbar[0].scrollWidth<=this.sbar[0].offsetWidth;if(!t){var n=this.cont.getBoundingClientRect(),i=this.scrollBody?this.scrollBody[0].getBoundingClientRect().bottom:window.innerHeight||document.documentElement.clientHeight;t=n.bottom<=i||n.top>i}this.visible===t&&(this.visible=!t,this.sbar.toggleClass("fl-scrolls-hidden"))},n.prototype.syncCont=function(t,n){!0!==this.preventSyncCont?(this.preventSyncSbar=!!n,this.cont.scrollLeft=t.scrollLeft):this.preventSyncCont=!1},n.prototype.syncSbar=function(t,n){!0!==this.preventSyncSbar?(this.preventSyncCont=!!n,this.sbar[0].scrollLeft=t.scrollLeft):this.preventSyncSbar=!1},n.prototype.updateAPI=function(){var n=this.cont;this.sbar.width(t(n).outerWidth()),this.scrollBody||this.sbar.css("left",n.getBoundingClientRect().left+"px"),t("div",this.sbar).width(n.scrollWidth),this.checkVisibility()},n.prototype.destroyAPI=function(){this.eventHandlers.forEach(function(t){var n=t.$el,i=t.handlers;return n.unbind(i)}),this.eventHandlers=null,this.sbar.remove()},n}();t.fn.floatingScroll=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"init";return"init"===i?this.each(function(i,e){return new n(t(e))}):n.prototype.hasOwnProperty(i+"API")&&this.trigger(i+".fscroll"),this},t(document).ready(function(){t("body [data-fl-scrolls]").floatingScroll()})});
